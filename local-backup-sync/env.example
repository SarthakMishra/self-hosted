# Local Backup Sync Environment Configuration
# Copy this file to .env and customize with your settings
# WARNING: .env contains sensitive server details and is gitignored

# =============================================================================
# REMOTE SERVER CONFIGURATION
# =============================================================================
REMOTE_HOST=your-server-tailscale-ip-or-hostname
REMOTE_USER=admin
REMOTE_BACKUP_PATH=/opt/docker-swarm/backup

# Examples:
# REMOTE_HOST=100.64.0.10              # Tailscale IP
# REMOTE_HOST=server.yourdomain.com     # Domain name
# REMOTE_USER=admin                     # Admin user on remote server

# =============================================================================
# SYNC SETTINGS
# =============================================================================
SYNC_INTERVAL=900          # Sync every 15 minutes (900 seconds)
BANDWIDTH_LIMIT=10M        # Limit bandwidth usage (10 Mbps)
MAX_RETRIES=3              # Retry failed syncs 3 times

# Sync frequency options:
# 300  = 5 minutes (aggressive sync)
# 900  = 15 minutes (default - good RPO)
# 1800 = 30 minutes (conservative)
# 3600 = 1 hour (low frequency)

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_PORT=8080     # Port for health check endpoint

# Health check URL will be: http://localhost:8080/health
# Monitor this endpoint to ensure sync service is running

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file to .env:
#    cp env.example .env
#
# 2. Edit .env with your server details:
#    nano .env
#
# 3. Ensure SSH key access to remote server:
#    ssh-copy-id admin@your-server-tailscale-ip
#
# 4. Start the sync service:
#    docker-compose up -d
#
# 5. Monitor sync status:
#    docker-compose logs -f restic-sync
#    curl http://localhost:8080/health
#
# SECURITY NOTES:
# - Uses SSH key authentication (no passwords)
# - Connects over Tailscale for security
# - .env file is gitignored to protect server details
# - Only pulls data (no write access to remote server) 