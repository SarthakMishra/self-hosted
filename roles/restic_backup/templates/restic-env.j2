# Restic Environment Configuration for Local Repository
# Generated by Ansible - do not edit manually

# Repository Configuration (Local)
RESTIC_REPOSITORY="{{ restic_backup_root }}/repository"
RESTIC_PASSWORD_FILE="{{ restic_backup_root }}/config/restic-password"

# Restic Options
RESTIC_COMPRESSION="auto"
RESTIC_PACK_SIZE="16"
RESTIC_CACHE_DIR="{{ restic_backup_root }}/cache"

# Backup Configuration
BACKUP_EXCLUDES_FILE="{{ restic_backup_root }}/config/excludes.txt"
BACKUP_LOG_FILE="{{ restic_backup_root }}/logs/backup.log"
METRICS_DIR="{{ restic_backup_root }}/metrics"

# Docker Swarm Backup Paths
DOCKER_VOLUMES_PATH="/var/lib/docker/volumes"
DOCKER_COMPOSE_PATH="{{ docker_stack_root }}"
DOCKER_CONFIG_PATH="/etc/docker"

# System Information
BACKUP_HOSTNAME="{{ inventory_hostname }}"
BACKUP_NODE_TYPE="{{ node_type | default('unknown') }}"

# Health Check Configuration
{% if healthcheck_backup_url is defined %}
HEALTHCHECK_URL="{{ healthcheck_backup_url }}"
{% endif %}

# Retention Policy
KEEP_LAST="{{ restic_retention_keep_last | default(10) }}"
KEEP_DAILY="{{ restic_retention_keep_daily | default(7) }}"
KEEP_WEEKLY="{{ restic_retention_keep_weekly | default(4) }}"
KEEP_MONTHLY="{{ restic_retention_keep_monthly | default(6) }}"
KEEP_YEARLY="{{ restic_retention_keep_yearly | default(1) }}"

# Local Sync Configuration (for pull mechanism)
SYNC_ENABLED="{{ restic_sync_enabled | default(true) }}"
SYNC_MARKER_FILE="{{ restic_backup_root }}/sync-in-progress"
CLEANUP_AFTER_SYNC="{{ restic_cleanup_after_sync | default(true) }}" 