# Docker Swarm Environment Configuration
# Generated by Ansible - do not edit manually

# Stack Configuration
STACK_ROOT={{ docker_stack_root }}
COMPOSE_PROJECT_NAME=swarm

# Network Names (must match docker networks)
TRAEFIK_NETWORK={{ docker_environment.TRAEFIK_NETWORK }}
APP_NETWORK={{ docker_environment.APP_NETWORK }}
MONITORING_NETWORK={{ docker_environment.MONITORING_NETWORK }}

# Server Configuration
SERVER_IP={{ ansible_default_ipv4.address }}
DOMAIN={{ domain_name | default('localhost') }}
EMAIL={{ admin_email | default('admin@' + (domain_name | default('localhost'))) }}

# Tailscale Configuration (auto-detected)
{% if tailscale_ip is defined %}
TAILSCALE_IP={{ tailscale_ip }}
{% else %}
TAILSCALE_IP={{ ansible_default_ipv4.address }}
{% endif %}
TAILSCALE_HOSTNAME={{ inventory_hostname }}

# Admin Service URLs (Direct Access via Tailscale)
TRAEFIK_DASHBOARD_URL=http://{{ tailscale_ip | default(ansible_default_ipv4.address) }}:8080

# Cloudflare Configuration
CLOUDFLARE_EMAIL={{ cloudflare_email }}
CLOUDFLARE_API_KEY={{ cloudflare_api_key }}
CLOUDFLARE_DNS_TOKEN={{ cloudflare_dns_token }} 